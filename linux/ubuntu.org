* xorg or wayland
/etc/gdm3/custom.conf
WaylandEnable=true
* emacs
snap install emacs --classic --channel edge

*  gnome-shell-extensions gnome-tweaks
很多插件是以 gnome-shell-extensions 或依赖 gnome-shell-extensions 如 https://github.com/k0kubun/xremap
故先要安装 gnome-shell-extensions
#+begin_src sh
sudo apt install gnome-shell-extensions  chrome-gnome-shell
#+end_src
** gnome-tweaks
1. 禁用左右 cmd（win）键 单按时的行为
   https://linux.how2shout.com/how-to-disable-super-or-win-key-in-ubuntu-20-04-or-18-04/
    sudo apt install gnome-tweaks
    gnome-tweaks
* Ctrl-; ctrl-. 被占用的问题
 ibus-setup 后选 emojj 把相应的快捷键删掉即可
* 输入法
sudo apt-get install ibus-rime
ibus 有漏字的情况，
sudo apt-get install fcitx5  fcitx5-rime fcitx5-config-qt
im-config 更换输入法
配置环境变量 见 /etc/environment


* xremap
https://github.com/k0kubun/xremap
https://github.com/k0kubun/xremap/blob/master/example/config.yml

* toggle App(废弃)
将以下脚本绑定到某快捷键上即可
#+begin_src sh
#!/bin/bash
# Check if Emacs is running
if [[ $(xdotool search --onlyvisible --name "emacs") ]]; then
    # Check if the current window is Emacs
    active_window=$(xdotool getactivewindow)
    emacs_window=$(xdotool search --onlyvisible --name "emacs")
    if [[ $active_window == $emacs_window ]]; then
        # Hide Emacs if it is the active window
        xdotool windowminimize $active_window
    else
        # Bring Emacs to front if it is not the active window
        xdotool windowactivate $emacs_window
    fi
else
    # Launch Emacs if it is not running
    emacs &
fi

#+end_src
* spacebar 作为 mac 的 cmd 或者 windows 的 win 来用
https://github.com/alols/xcape/issues/122
https://emacsredux.com/blog/2020/07/05/remap-enter-to-control-in-gnu-linux-2020-edition/

#+begin_src sh
sudo apt install libudev-dev libyaml-cpp-dev libevdev-dev cmake gcc g++ libboost-dev libinput-tools
mkdir src && cd src
git clone https://gitlab.com/interception/linux/tools
# build and install the interception framework
cd tools;mkdir build; cd build; cmake ..; make;sudo make install; cd ../..
# build the dual-function-keys plugin
git clone https://gitlab.com/interception/linux/plugins/dual-function-keys
cd dual-function-keys; make && sudo make install
#+end_src

#+begin_src sh
ln -s dual-function-keys.yaml ~/dual-function-keys.yaml
#+end_src
