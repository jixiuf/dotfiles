#!/bin/bash
# kill all other windows in current workspace
# like (delete-other-windows) in emacs
appinfo=`hyprctl activewindow -j`
if [ -n "$appinfo" ]; then
    class=`echo $appinfo|jq -r '.class'|head -n 1`
    title=`echo $appinfo|jq -r '.title'|head -n 1`
    if [[ "$class" = "emacs" ]]; then
        echo key ctrl+x 5 0|dotoolc
    elif [[ "$class" = "org.wezfurlong.wezterm" ||"$class" = "kitty" || "$class" = "Alacritty" || "$class" = "dterm" ]]; then
        if [[ $title =~ "GNU/Emacs" ]]; then
            echo key ctrl+x shift+k |dotoolc
        else
            echo key ctrl+x shift+k |dotoolc
        fi
    fi
fi
