# https://gitlab.com/interception/linux/plugins/dual-function-keys
# https://github.com/alols/xcape/issues/122
# sudo systemctl restart udevmon
TIMING:
  TAP_MILLISEC: 200
  DOUBLE_TAP_MILLISEC: 0        #disable double tap

  #https://gitlab.com/interception/linux/plugins/dual-function-keys#combo-keys
  SYNTHETIC_KEYS_PAUSE_MILLISEC: 20 # default 20 HOLD: [ KEY_LEFTCTRL, KEY_LEFTALT,KEY_LEFTMETA]


MAPPINGS:
  # https://github.com/torvalds/linux/blob/master/include/uapi/linux/input-event-codes.h
  # KEY_LEFTMETA=cmd on macos
  # space as ctrl+cmd+alt
  #这里每加一个 key 就要在 udevmon.yaml 里加一个
  - KEY: KEY_SPACE
    TAP: KEY_SPACE
    #https://gitlab.com/interception/linux/plugins/dual-function-keys#combo-keys
    # KEY_LEFTMETA=cmd on macos
    HOLD_START: BEFORE_CONSUME_OR_RELEASE
    HOLD: [KEY_LEFTMETA,KEY_LEFTCTRL]

  - KEY: KEY_CAPSLOCK           #caplocks->cmd+alt
    TAP: KEY_CAPSLOCK
    HOLD: [KEY_LEFTMETA,KEY_LEFTALT]
  # - KEY: KEY_TAB           #tab->cmd+alt
  #   TAP: KEY_TAB
  #   HOLD_START: BEFORE_CONSUME_OR_RELEASE
  #   HOLD: [KEY_LEFTMETA,KEY_LEFTALT]
  # - KEY: KEY_E           #e->cmd+alt
  #   TAP: KEY_E
  #   HOLD_START: BEFORE_CONSUME_OR_RELEASE
  #   HOLD: [KEY_LEFTMETA,KEY_LEFTALT]
  # - KEY: KEY_F           #f->cmd+alt
  #   TAP: KEY_F
  #   HOLD_START: BEFORE_CONSUME_OR_RELEASE
  #   HOLD: [KEY_LEFTMETA,KEY_LEFTALT]

  - KEY: KEY_COMMA              # ,-> cmd+alt
    TAP: KEY_COMMA
    HOLD_START: BEFORE_CONSUME_OR_RELEASE
    HOLD: [KEY_LEFTMETA,KEY_LEFTALT]


  - KEY: KEY_LEFTMETA # left cmd-> ctrl or esc
    TAP: KEY_ESC
    HOLD: KEY_LEFTCTRL

  - KEY: KEY_LEFTCTRL # left ctrl-> cmd
    TAP: KEY_LEFTMETA
    HOLD: KEY_LEFTMETA

  - KEY: KEY_RIGHTMETA # right cmd-> super+space
    TAP: [KEY_RIGHTMETA,KEY_LEFTCTRL,KEY_SPACE]
    HOLD: KEY_RIGHTMETA

  - KEY: KEY_LEFTSHIFT
    TAP: [KEY_LEFTCTRL,KEY_SPACE]
    HOLD: KEY_LEFTSHIFT

  # - KEY: KEY_RIGHTALT
  #   TAP: KEY_BACKSPACE
  #   HOLD: KEY_RIGHTMETA
  # - KEY: KEY_LEFTSHIFT
  #   TAP: [ KEY_LEFTSHIFT, KEY_MINUS , ]
  #   HOLD: KEY_LEFTSHIFT
  # - KEY: KEY_RIGHTSHIFT
  #   TAP: [ KEY_RIGHTSHIFT, KEY_EQUAL , ]
  #   HOLD: KEY_RIGHTSHIFT