# https://github.com/k0kubun/xremap
# key 的名字参见
# https://github.com/emberian/evdev/blob/1d020f11b283b0648427a2844b6b980f1a268221/src/scancodes.rs#L26-L572
# sudo systemctl restart xremap
# super = cmd on macos and win on windows
# journalctl -u xremap
keymap:
  - name: firefox
    application:
      only: firefox
    remap:
      C-u: C-Shift-t
      C-k: C-Shift-tab
      C-j: C-tab
      C-h: M-left
      C-l: M-right
      C-o: C-l
      C-n: down
      C-p: up
      C-f: right
      C-b: left
      Super-C-f: Super-C-f      #否则会变成 Super-right,因上面 C-f->right
      Super-C-b: Super-C-b
      Super-C-p: Super-C-p
      Super-C-n: Super-C-n
  - name: Google Chrome
    application:
      only: [Google-chrome,google-chrome]
    remap:
      M-backspace: C-Backspace
      Super-C-u: C-Shift-t
      C-comma: C-Shift-tab
      C-dot: C-tab
      C-h: M-left
      C-l: M-right
      C-o: C-l
      C-n: down
      C-p: up
      C-f: right
      C-b: left
      C-a: Home
      C-e: End
      M-f: C-right
      M-b: C-left
      Super-M-f: Super-C-right
      Super-M-b: Super-C-left
      Super-C-f: Super-C-f      #否则会变成 Super-right,因上面 C-f->right
      Super-C-b: Super-C-b
      Super-C-a: C-a
      Super-C-e: Super-C-e
      Super-C-d: Super-C-d

  - name: Emacs
    application:
      only: [emacs,Emacs]
    remap:
      C-Space: Super-C-Space
      C-g: [Super-Space,f15]
      # C-x: C-x
      Super-C-g: Super-C-g

  - name: Not Emacs
    application:
      not: [emacs,Emacs]
    remap:


  - name: Default -- some of these are overridden by the above definitions
    application:
      not: [Gnome-terminal, Emacs,emacs ,foot,Foot,dropdown-term]
      # not: [Google-chrome, Slack, Gnome-terminal, jetbrains-idea,emacs]
    remap:
      Super-C-a: C-a
      Super-C-c: C-c
      Super-C-v: C-v
      Super-C-z: C-z
      Super-C-s: C-s
      # C-x: Super-C-M-x
      # Super-C-x: [Super-C-M-x,C-x]
      # C-M-x: C-M-x
      # Super-M-x: Super-M-x
      # Cursor
      C-b: { with_mark: left }
      C-f: { with_mark: right }
      C-p: { with_mark: up }
      C-n: { with_mark: down }
      # Forward/Backward word
      M-b: { with_mark: C-left }
      M-f: { with_mark: C-right }
      # Beginning/End of line
      C-a: { with_mark: home }
      C-e: { with_mark: end }
      # Page up/down
      M-v: { with_mark: pageup }
      C-v: { with_mark: pagedown }
      # Beginning/End of file
      M-Shift-comma: { with_mark: C-home }
      M-Shift-dot: { with_mark: C-end }
      # Newline
      C-m: enter
      C-j: enter
      C-o: [enter, left]
      # Copy
      # C-w: [C-x, { set_mark: false }]
      M-w: [C-c, { set_mark: false }]
      C-y: [C-v, { set_mark: false }]
      # Delete
      C-d: [delete, { set_mark: false }]
      M-d: [C-delete, { set_mark: false }]
      # Kill line
      C-k: [Shift-end, C-x, { set_mark: false }]
      # Undo
      C-slash: [C-z, { set_mark: false }]
      C-Shift-ro: C-z
      # Mark
      C-2: { set_mark: true }
      # Search
      C-s: F3
      C-r: Shift-F3
      M-Shift-5: C-h
      # Cancel
      C-g: [esc, { set_mark: false }]
      # C-x YYY
      C-x:
        remap:
          # C-x h (select all)
          h: [C-home, C-a, { set_mark: true }]
          # C-x C-f (open)
          C-f: C-o
          # C-x C-s (save)
          C-s: C-s
          # C-x k (kill tab)
          k: C-f4
          # C-x C-c (exit)
          C-c: { launch: ["swaymsg", "kill"] }
          # C-x u (undo)
          u: [C-z, { set_mark: false }]

      # Super-C-r: C-r
      # Super-M-r: M-F2
      # C-a: Home
      # C-e: End

      # Alt -> Ctrl
      # Super-Enter: M-Enter
      # C-w: [C-Shift-left, delete]
